"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const encoding_1 = require("./encoding");
const token_1 = require("./token");
/**
 * Returns true if obj is a token (i.e. has the resolve() method or is a string
 * that includes token markers), or it's a listifictaion of a Token string.
 *
 * @param obj The object to test.
 */
function unresolved(obj) {
    if (typeof (obj) === 'string') {
        return encoding_1.TOKEN_MAP.createStringTokenString(obj).test();
    }
    else if (Array.isArray(obj) && obj.length === 1) {
        return encoding_1.isListToken(obj[0]);
    }
    else {
        return obj && typeof (obj[token_1.RESOLVE_METHOD]) === 'function';
    }
}
exports.unresolved = unresolved;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5yZXNvbHZlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVucmVzb2x2ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBb0Q7QUFDcEQsbUNBQXlDO0FBRXpDOzs7OztHQUtHO0FBQ0gsU0FBZ0IsVUFBVSxDQUFDLEdBQVE7SUFDakMsSUFBSSxPQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sb0JBQVMsQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztLQUN0RDtTQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUNqRCxPQUFPLHNCQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUI7U0FBTTtRQUNMLE9BQU8sR0FBRyxJQUFJLE9BQU0sQ0FBQyxHQUFHLENBQUMsc0JBQWMsQ0FBQyxDQUFDLEtBQUssVUFBVSxDQUFDO0tBQzFEO0FBQ0gsQ0FBQztBQVJELGdDQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNMaXN0VG9rZW4sIFRPS0VOX01BUCB9IGZyb20gXCIuL2VuY29kaW5nXCI7XG5pbXBvcnQgeyBSRVNPTFZFX01FVEhPRCB9IGZyb20gXCIuL3Rva2VuXCI7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iaiBpcyBhIHRva2VuIChpLmUuIGhhcyB0aGUgcmVzb2x2ZSgpIG1ldGhvZCBvciBpcyBhIHN0cmluZ1xuICogdGhhdCBpbmNsdWRlcyB0b2tlbiBtYXJrZXJzKSwgb3IgaXQncyBhIGxpc3RpZmljdGFpb24gb2YgYSBUb2tlbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIG9iaiBUaGUgb2JqZWN0IHRvIHRlc3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnJlc29sdmVkKG9iajogYW55KTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Yob2JqKSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gVE9LRU5fTUFQLmNyZWF0ZVN0cmluZ1Rva2VuU3RyaW5nKG9iaikudGVzdCgpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGlzTGlzdFRva2VuKG9ialswXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Yob2JqW1JFU09MVkVfTUVUSE9EXSkgPT09ICdmdW5jdGlvbic7XG4gIH1cbn1cbiJdfQ==